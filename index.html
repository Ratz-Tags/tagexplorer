<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Artist Explorer</title>
  <meta name="description" content="Discover NSFW artists on Danbooru with kink tag filtering">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body class="fem-theme">
  <!-- Background decoration -->
  <div id="background-blur" aria-hidden="true"></div>
  
  <!-- Main application header -->
  <header role="banner">
    <div class="container">
      <div class="top-bar">
        <h1 class="brand">Artist Explorer</h1>
        <div class="brand-sissy">✧ Welcome cutie. ✧<br>Obey, drool, and discover your next obsession~</div>
        <span class="tagline" id="tagline">Pathetic..~</span>
        <div class="sort-controls">
          <select id="sort-preference">
            <option value="name">Sort: Name (A-Z)</option>
            <option value="count">Sort: Tag Count</option>
            <option value="top">Top Artists (by tag count)</option>
          </select>
          <button id="sort-button">Sort</button>
          <button id="toggle-filters" type="button" class="browse-btn" aria-expanded="false">Browse Tags</button>
          <!-- Only one Top Artists button, handled by JS -->
        </div>
        <div class="top-actions">
        </div>
      </div>

      <!-- Tag filtering controls -->
      <nav class="filter-bar collapsed" role="navigation" aria-label="Tag filters">
        <div id="tag-filter">
        <div class="filter-inputs">
          <label for="tag-search" class="visually-hidden">Filter tags</label>
          <input 
            type="text" 
            id="tag-search" 
            placeholder="Type to filter tags..."
            aria-describedby="tag-search-help" 
          />
          
          <label for="artist-name-filter" class="visually-hidden">Filter by artist name</label>
          <input
            type="text"
            id="artist-name-filter"
            placeholder="Filter by artist name..."
            aria-describedby="artist-filter-help"
          >
        </div>
        
        <div id="tag-buttons" role="group" aria-label="Available tags"></div>
        
        <button 
          id="clear-tags" 
          style="display:none;"
          aria-label="Clear all selected tags"
        >
          Clear All
        </button>
        
        <!-- Screen reader helpers -->
        <div id="tag-search-help" class="visually-hidden">
          Type to search and filter available tags
        </div>
        <div id="artist-filter-help" class="visually-hidden">
          Type to filter artists by name
        </div>
      </div>
    </nav>
    </div>
  </header>

  <!-- Main content area -->
  <main role="main" class="container">
    <!-- Filter results summary -->
    <section id="filtered-results" aria-live="polite" aria-label="Search results summary"></section>

    <!-- Artist gallery -->
    <section id="artist-gallery" aria-label="Artist gallery" role="region">
      <h2 class="visually-hidden">Artists</h2>
    </section>
  </main>

  <!-- Sidebar for copied artists -->
  <aside class="sidebar-wrapper" aria-label="Copied artists">
    <div id="copied-sidebar" class="sidebar-hidden" role="complementary" aria-label="Artists you've copied">
      <button class="copied-sidebar-close" aria-label="Close sidebar">×</button>
      <h2 class="visually-hidden">Copied Artists</h2>
      <!-- Copied artists will be injected here -->
    </div>
  </aside>

  <!-- Interactive elements overlay -->
  <div id="jrpg-bubbles" aria-live="polite" aria-label="Tag notifications"></div>

  <!-- Audio controls -->
  <section id="audio-section" aria-label="Audio controls">
    <div id="audio-panel" class="audio-panel hidden" role="region" aria-label="Hypnosis audio player">
      <div class="audio-header">
        <span aria-label="Audio indicator">🎧</span>
        <span id="audio-track-name">No track playing</span>
      </div>
      <div class="audio-controls" role="group" aria-label="Audio playback controls">
        <button id="audio-prev" aria-label="Previous track">⏮️</button>
        <button id="audio-toggle" aria-label="Play/pause">⏯️</button>
        <button id="audio-next" aria-label="Next track">⏭️</button>
        <button id="moan-mute" aria-label="Toggle moan sound">🔇 Moan</button>
      </div>
    </div>

    <!-- Audio elements -->
    <audio id="moan-audio" preload="auto" aria-label="Moan sound effects">
      <source src="moan.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
    
    <audio id="hypnoAudio" preload="auto" aria-label="Hypnosis audio tracks">
      Your browser does not support the audio element.
    </audio>
  </section>

  <!-- Floating controls -->
  <nav class="floating-controls" aria-label="Quick access controls">
    <div class="toggle-buttons-container">
      <button class="sidebar-toggle" aria-label="Show copied artists sidebar">🎀</button>
      <button class="audio-toggle" aria-label="Show audio panel">🎶</button>
      <button class="theme-toggle" aria-label="Toggle theme">🌓</button>
    </div>
    
    <button id="back-to-top" title="Back to top" aria-label="Scroll to top">
      <span aria-hidden="true">↑</span>
      <span class="control-label">Top</span>
    </button>
  </nav>

  <div id="app"></div>
  <!-- Load the modular JavaScript -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script type="module" src="main.js"></script>
</body>

</html>
